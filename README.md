# Perfume Backend API

–ë—ç–∫–µ–Ω–¥ API –¥–ª—è —Å–∞–π—Ç–∞ —Å –∞—Ä–æ–º–∞—Ç–∞–º–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –Ω–∞ Node.js, Express –∏ SQLite.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∞—Ä–æ–º–∞—Ç–∞–º–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∞—Ä–æ–º–∞—Ç–∞–º
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ CORS –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
- ‚úÖ Rate limiting –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
npm run dev
```

3. –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–µ:
```bash
npm start
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:5000`

## API Endpoints

### –ê—Ä–æ–º–∞—Ç—ã

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| GET | `/api/perfumes` | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∞—Ä–æ–º–∞—Ç—ã |
| GET | `/api/perfumes?search=query` | –ü–æ–∏—Å–∫ –∞—Ä–æ–º–∞—Ç–æ–≤ |
| GET | `/api/perfumes/:id` | –ü–æ–ª—É—á–∏—Ç—å –∞—Ä–æ–º–∞—Ç –ø–æ ID |
| POST | `/api/perfumes` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∞—Ä–æ–º–∞—Ç |
| PUT | `/api/perfumes/:id` | –û–±–Ω–æ–≤–∏—Ç—å –∞—Ä–æ–º–∞—Ç |
| DELETE | `/api/perfumes/:id` | –£–¥–∞–ª–∏—Ç—å –∞—Ä–æ–º–∞—Ç |

### –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| POST | `/api/upload/image` | –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ |
| POST | `/api/upload/multiple` | –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π |
| GET | `/api/upload/list` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π |
| DELETE | `/api/upload/:filename` | –£–¥–∞–ª–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ |

### –°–ª—É–∂–µ–±–Ω—ã–µ

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| GET | `/api/health` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∞—Ä–æ–º–∞—Ç–∞

```json
{
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∞—Ä–æ–º–∞—Ç–∞",
  "brand": "–ë—Ä–µ–Ω–¥",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –∞—Ä–æ–º–∞—Ç–∞",
  "price": 5990.00,
  "volume": 100,
  "category": "niche",
  "notes_top": "–ë–µ—Ä–≥–∞–º–æ—Ç, –õ–∏–º–æ–Ω",
  "notes_middle": "–†–æ–∑–∞, –ñ–∞—Å–º–∏–Ω",
  "notes_base": "–°–∞–Ω–¥–∞–ª, –ú—É—Å–∫—É—Å",
  "gender": "unisex",
  "image_url": "/uploads/perfume_123.jpg",
  "stock_quantity": 10,
  "is_available": true
}
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞—Ä–æ–º–∞—Ç–æ–≤
- `niche` - –ù–∏—à–µ–≤—ã–µ
- `designer` - –î–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–µ
- `natural` - –ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ
- `oriental` - –í–æ—Å—Ç–æ—á–Ω—ã–µ
- `fresh` - –°–≤–µ–∂–∏–µ
- `woody` - –î—Ä–µ–≤–µ—Å–Ω—ã–µ
- `floral` - –¶–≤–µ—Ç–æ—á–Ω—ã–µ
- `citrus` - –¶–∏—Ç—Ä—É—Å–æ–≤—ã–µ
- `gourmand` - –ì—É—Ä–º–∞–Ω—Å–∫–∏–µ
- `other` - –î—Ä—É–≥–∏–µ

### –ì–µ–Ω–¥–µ—Ä
- `male` - –ú—É–∂—Å–∫–æ–π
- `female` - –ñ–µ–Ω—Å–∫–∏–π
- `unisex` - –£–Ω–∏—Å–µ–∫—Å

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞—Ä–æ–º–∞—Ç–∞
```javascript
const response = await fetch('http://localhost:5000/api/perfumes', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    name: "Ambre Vanille",
    brand: "Maison Francis Kurkdjian",
    description: "–¢–µ–ø–ª—ã–π –≤–æ—Å—Ç–æ—á–Ω—ã–π –∞—Ä–æ–º–∞—Ç —Å –Ω–æ—Ç–∞–º–∏ –≤–∞–Ω–∏–ª–∏ –∏ –∞–º–±—Ä—ã",
    price: 12900.00,
    volume: 70,
    category: "niche",
    notes_top: "–ú–∏–Ω–¥–∞–ª—å",
    notes_middle: "–í–∞–Ω–∏–ª—å",
    notes_base: "–ê–º–±—Ä–∞, –°–∞–Ω–¥–∞–ª",
    gender: "unisex",
    stock_quantity: 5
  })
});
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```javascript
const formData = new FormData();
formData.append('image', file);

const response = await fetch('http://localhost:5000/api/upload/image', {
  method: 'POST',
  body: formData
});
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∞—Ä–æ–º–∞—Ç–æ–≤
```javascript
const response = await fetch('http://localhost:5000/api/perfumes');
const data = await response.json();
console.log(data.data); // –ú–∞—Å—Å–∏–≤ –∞—Ä–æ–º–∞—Ç–æ–≤
```

### –ü–æ–∏—Å–∫ –∞—Ä–æ–º–∞—Ç–æ–≤
```javascript
const response = await fetch('http://localhost:5000/api/perfumes?search=vanilla');
const data = await response.json();
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å React

–í –≤–∞—à–µ–º React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –±–∞–∑–æ–≤—ã–π URL:

```javascript
const API_BASE_URL = 'http://localhost:5000/api';

// –ü—Ä–∏–º–µ—Ä —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
export const perfumeService = {
  // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∞—Ä–æ–º–∞—Ç—ã
  async getAllPerfumes() {
    const response = await fetch(`${API_BASE_URL}/perfumes`);
    return response.json();
  },

  // –°–æ–∑–¥–∞—Ç—å –∞—Ä–æ–º–∞—Ç
  async createPerfume(perfumeData) {
    const response = await fetch(`${API_BASE_URL}/perfumes`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(perfumeData)
    });
    return response.json();
  },

  // –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  async uploadImage(file) {
    const formData = new FormData();
    formData.append('image', file);
    
    const response = await fetch(`${API_BASE_URL}/upload/image`, {
      method: 'POST',
      body: formData
    });
    return response.json();
  }
};
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- Rate limiting: 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 15 –º–∏–Ω—É—Ç
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å React
- Helmet –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –§–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏

```
perfume-backend/
‚îú‚îÄ‚îÄ server.js              # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ package.json           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ db.js              # –ú–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ perfumes.db        # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ perfumes.js        # API —Ä–æ—É—Ç—ã –¥–ª—è –∞—Ä–æ–º–∞—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ upload.js          # API —Ä–æ—É—Ç—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ uploads/               # –ü–∞–ø–∫–∞ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

–ë—ç–∫–µ–Ω–¥ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! üöÄ –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:

1. –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∞—Ä–æ–º–∞—Ç—ã —á–µ—Ä–µ–∑ API
2. –ó–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
3. –£–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞—Ç–∞–ª–æ–≥–æ–º —á–µ—Ä–µ–∑ React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
4. –ò—Å–∫–∞—Ç—å –ø–æ –∞—Ä–æ–º–∞—Ç–∞–º

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞—Ä–æ–º–∞—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ POST –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/perfumes` –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –≤ React. 